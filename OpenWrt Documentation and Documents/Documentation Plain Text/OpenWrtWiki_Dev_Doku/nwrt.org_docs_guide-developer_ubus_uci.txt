====== ubus uci ======

**Package: rpcd**

^ Path ^ Procedure ^ Signature ^ Description ^
| ''uci'' | ''get'' | ''{ "package": "//package//",
  "section": "//sname//",
  "type":    "//type//",
  "option":  "//oname//" }'' | <WRAP>Return the requested uci value(s), all arguments are optional.
  - When called without argument or with empty object: return an array of package names in the ''packages'' field
  - When called with ''//package//'' set: return an object containing all sections containing all options in a field named after the package
  - When called with ''//package//'' and ''//type//'' set: return an object containing all sections of type ''//type//'' containing all options in a field named after the package
  - When called with ''//package//'' and ''//sname//'' set: return an object containing all options of the section in a field named after the section
  - When called with ''//package//'' and ''//type//'' and ''//oname//'' set: return an object containing the value of each option named ''//oname//'' within a section of type ''//type//'' in a field named after the matched section
  - When called with ''//package//'' and ''//sname//'' and ''//oname//'' set: return the result string in a field named ''//oname//'' in case of options or an array of result strings in a field named ''//oname//'' in case of list options

Return messages:
  - ''{ "packages": [ "package1", ... ] }''
  - ''{ "//package//": {
  "sname1": {
    ".type":   "type1",
    "option1": "value1",
    "option2": [ "value2.1", ... ],
    ... }, ... } }''
  - ''{ "//package//": {
  "sname1": {
    ".type":   "//type//",
    "option1": "value1",
    "option2": [ "value2.1", ... ],
    ... }, ... } }''
  - ''{ "//sname//": {
    ".type":   "type",
    "option1": "value1",
    "option2": [ "value2.1", ... ],
    ... } }''
  - ''{ "sectionname1": "value1",
  "sectionname2": [ "value2.1", ... ],
  ... }''
  -
    - ''{ "//oname//": "value1" }''
    - ''{ "//oname//": [ "value1.1", ... ] }''
</WRAP> |
| ''uci'' | ''set'' | ''{ "package": "//package//",
  "section": "//sname//",
  "option":  "//oname//",
  "value":   "//value//" }'' | <WRAP>Set the given value(s), the option argument is optional.
  - When called with ''//package//'' and ''//sname//'' and ''//value//'' set: add a new section ''//sname//'' in ''//package//'' and set it to the type given in ''//value//''
  - When called with ''//package//'' and ''//sname//'', ''//oname//'' and ''//value//'' set:
    - If ''//value//'' is of type array: set strings in the ''value'' array as list option ''//oname//''
    - If ''//value//'' is of type string: set ''//value//'' as normal option ''//oname//''
The call does not produce any data, instead it returns with the following status codes:
  - If there already is a section called ''//sname//'': ''UBUS_STATUS_INVALID_ARGUMENT'' else: ''UBUS_STATUS_OK''
  - If there is no section ''//sname//'' or if ''//value//'' is neither a string nor an array: ''UBUS_STATUS_INVALID_ARGUMENT'' else: ''UBUS_STATUS_OK''
</WRAP> |
| ''uci'' | ''add'' | ''{ "package": "//package//",
  "type":    "//type//" }'' | <WRAP>Add new anonymous section of given type.
  - When called with ''//package//'' and ''//type//'' set: Add a new anonymous section of type ''//type//''.

Return message:
  - ''{ "section": "sectionname" }''
</WRAP> |
| ''uci'' | ''delete'' | ''{ "package": "//package//",
  "section": "//sname//",
  "type":    "//type//",
  "option":  "//oname//" }'' | <WRAP>Delete the given value(s) or section(s), the option and type arguments are optional.
  - When called with ''//package//'' and ''//type//'' set: delete all sections of type ''//type//'' in ''//package//''
  - When called with ''//package//'' and ''//sname//'' set: delete the section named ''//sname//'' in ''//package//''
  - When called with ''//package//'', ''//type//'' and ''//oname//'' set: delete the option named ''//oname//'' within each section of type ''//type//'' in ''//package//''
  - When called with ''//package//'', ''//sname//'' and ''//oname//'' set: delete the option named ''//oname//'' in section ''//sname//'' of ''//package//''

The call does not result in any data, instead it returns the following status codes:
  - If no section of type ''//type//'' was found: ''UBUS_STATUS_NOT_FOUND'' else: ''UBUS_STATUS_OK''
  - If no section named ''//sname//'' was found: ''UBUS_STATUS_NOT_FOUND'' else: ''UBUS_STATUS_OK''
  - If no options named ''//oname//'' within sections of type ''//type//'' where found: ''UBUS_STATUS_NOT_FOUND'' else: ''UBUS_STATUS_OK''
  - If the option named ''//oname//'' within named section ''//sname//'' was not found: ''UBUS_STATUS_NOT_FOUND'' else: ''UBUS_STATUS_OK''
</WRAP> |

