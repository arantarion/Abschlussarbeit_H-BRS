====== TR-069 / CWMP ======
Read [[wp>TR-069|TR-069/CWMP (CPE WAN Management Protocol)]] or [[http://www.broadband-forum.org/cwmp.php]].

===== Free implementations of TR-069 =====
  * [[http://easycwmp.org/|EasyCwmp]] (GPLv2)
  * [[http://freecwmp.org/|FreeCWMP]] (GPLv2):  and [[http://libfreecwmp.org/]]
    * See [[http://events.ccc.de/congress/2012/Fahrplan/events/5112.en.html|29C3 (Dec 2012): ISP's black box]] pdf-slides and video
  * [[http://sourceforge.net/projects/cpe/]]
  * [[http://code.google.com/p/tr069/]]

See also (in german language): [[http://www.wehavemorefun.de/fritzbox/TR-069#Gefahren_von_TR-069|TR-069#Gefahren_von_TR-069]]


===== No more free choice of CPE (customer premises equipment) =====
German readers, also please note this: [[http://www.heise.de/ct/artikel/Providers-Freud-1886889.html|Bundesnetzagentur: Provider können seit Anfang 2013 ihren Kunden Routermodelle vorschreiben]]

{{http://www.heise.de/ct/imgs/04/1/0/3/5/8/1/3/bild1-neu-edd7b75bace25235.gif}}

===== Lösungen: =====
  - Sofern der ISP TR-069 verwendet und das tut er allerhöchstwahrscheinlich, einfach mal FreeCWMP auf OpenWrt probieren.
  - LAN: Man kann relativ problemlos einen OpenWrt-betriebenen Router hinter das ISP-Gerät schalten und doppeltes NAT einsetzen oder nicht
  - WLAN: Damit das drahtlose Netzwerk keine Probleme macht, sollte man es im ISP-Gerät abschalten und evtl. zusätzlich die Antennen abschrauben. bzw. Gerät in einen [[wpde>Faradayscher Käfig|Faradayschen Käfig]] packen.

**''Anmerkung''** Wenn man einen OpenWrt-betriebenen Router einsetzt, kann man getrost das vorkonfigurierte NAT belassen. Im Falle von Portforwards, muss man diese allerdings stets doppelt konfigurieren: einmal auf dem ISP-Gerät und dann nochmal auf dem OpenWrt-betriebenen Router. Es ist etwas umständlich, funktioniert aber haargenau wie einfaches NAT. Wenn man dies nicht wünscht, so muss man auf dem ISP-Gerät manuell routen setzen können:
  * allgemein unter Linux geht das folgendermaßen: <code>ip route add 192.168.2.1/24 dev eth0</code>
  * unter OpenWrt benutzen wir dazu UCI: ''[[docs:guide-user:network:routes_configuration#ipv4_routes|IPv4 Routes]]'' bzw. ''[[docs:guide-user:network:routes_configuration#ipv6_routes|IPv6 Routes]]''
  * unter AVM-FRITZ!Box-Geräten: [[http://service.avm.de/support/de/SKB/FRITZ-Box-7390/581:Statische-IP-Route-in-FRITZ-Box-einrichten]]
  * etc.

