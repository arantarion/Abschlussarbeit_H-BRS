====== FTP servers======

===== Links =====

  * [[docs:guide-user:services:nas:pure-ftpd|Pure-FTPd]]
  * [[http://diantokam.blogspot.com/2012/11/openwrt-proftp-server.html|ProFTPD]]
  * [[http://systembash.com/content/evaluating-ftp-servers-proftpd-vs-pureftpd-vs-vsftpd/|Evaluating FTP Servers: ProFTPd vs PureFTPd vs vsftpd]]


 
===== Quickguides: =====
==== FTP server vsftpd ====
The smallest of the three popular FTP servers

  - Install from web-interface or command-line: "**opkg install vsftpd**"
  - You might want to start and enable the vsftpd service in web-interface "System/Startup"
  - Configuration file is located in "**/etc/vsftpd.conf**"
  - To set the default FTP folder add the following to the config file: "**local_root=/mnt/usb1**"
  - To enable PASSIVE mode, add the following to the config file: "pasv_enable=YES", "pasv_min_port=10090", and "pasv_max_port=10100"
  - The vsftpd service can be controlled with the usual commands:

     /etc/init.d/vsftpd start     (Start the service)
     /etc/init.d/vsftpd stop      (Stop the service)
     /etc/init.d/vsftpd restart   (Restart the service)
     /etc/init.d/vsftpd reload    (Reload configuration files (or restart if that fails))
     /etc/init.d/vsftpd enable    (Enable service autostart)
     /etc/init.d/vsftpd disable   (Disable service autostart)


To support FTPD server through a firewall "opkg install kmod-nf-nathelper"  (Not typically needed)
 
==== ProFTPD ====

   - Install from web-interface or command-line: "**opkg install proftpd**"
   - Add a ftp [[docs:guide-user:security:secure.access#create_a_non-privileged_user_in_openwrt|user]]
   - Disallow Root login in **/etc/proftpd.conf**: <code>RootLogin               off</code>
   - Limit Access to **ftpuser** in **/etc/proftpd.conf**: <code><Limit LOGIN>
 AllowUser ftpuser
 DenyAll
</Limit></code>
   - Comment all in "**<Anonymous ~ftp>...</Anonymous>**" in **/etc/proftpd.conf** if you don't want anonymous access.
   - Enable shell add **/bin/false** to **/etc/shells** OR **RequireValidShell       off** to **/etc/proftpd.conf**
   - Start the server **/etc/init.d/proftpd start** and add enable the server to start on reboot.