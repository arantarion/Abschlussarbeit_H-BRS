====== SSHFS client ======

===== SSHFS (Secure SHell FileSystem) =====

<code>
Package: sshfs
Version: 2.2-1
Depends: libfuse, fuse-utils, glib2, libpthread
Provides:
Status: unknown ok not-installed
Section: net
Architecture: ar71xx
Maintainer: OpenWrt Developers Team <openwrt-devel@openwrt.org>
MD5Sum: 6cdaa98ff2009b474db3f536fd34e81b
Size: 20929
Filename: sshfs_2.2-1_ar71xx.ipk
Source: feeds/packages/net/sshfs
Description: Mount remote system over sftp.
</code>


|<code bash>
mkdir /mnt/internet
sshfs user@host:/remote/dir /mnt/internet
</code>|

[[http://linux.die.net/man/1/sshfs|manpage of sshfs]]


===== shfs =====

  * shfs / shfsmount are quite old (ca. 2004) alternatives to sshfs.
  * shfs is not available as openwrt package.

<code>
shfsmount -P 2222 user@host /mnt/shfs
</code>

To specify another ssh option:

<code>
shfsmount --cmd="ssh -c blowfish %u@%h /bin/bash" user@host:/tmp /mnt/shfs/
</code>

To make mount survive temporary connection outage (reconnect mode):

<code>
shfsmount --persistent user@host /mnt/shfs
</code>

Longer transfers? Increase cache size (1MB cache per file):

<code>
shfsmount user@host /mnt/shfs -o cachesize=256
</code>

To enable symlink resolution:

<code>
shfsmount -s user@host /mnt/shfs
</code>

To preserve uid (gid) (NFS replace mode :-)):

<code>
shfsmount root@host /mnt/shfs -o preserve,rmode=755
</code>

To see what is wrong (forces kernel debug output too):

<code>
shfsmount -vvv user@host /mnt/shfs
</code>

Mount without password using identity file

<code>
shfsmount --cmd="ssh -i /identity/file/path %u@%h /bin/bash" user@host:/tmp /mnt/shfs/
</code>

getting warning: ssh nodelay workaround disabled?

sshfs does not handle the certificate negotiation, so you have to

<code>ssh user@host 
The authenticity of host '[host] ([00.00.00.00])' can't be established.
RSA key fingerprint is b3:b2:4f:53:bc:b9:40:c4:48:af:7a:a5:a3:1a:3f:51.
Are you sure you want to continue connecting (yes/no)?
answer with y(es) here</code>

See http://shfs.sourceforge.net/ for further details.
