====== iTunes server (forked-daapd) ======
| Please note that forked-daapd cannot currently play aac files on low-power devices - see below |

This page is intented for people who want to run an itunes server on their OpenWrt device, controlling it via Apple Remote on iPod Touch/iPhone/iPad or Retune/TunesRemote+ on Android. This can be achieved with [[https://github.com/ejurgensen/forked-daapd|forked-daapd]], which is a rewritten and updated version of the old mt-daapd/FireFly.

You’ll need a device with good cpu/memory. The device will probably also need attached USB storage. Your USB storage must have your music library, and it must also be set up so that custom packages will be installed on it. See [[docs:guide-user:additional-software:extroot_configuration]] for more information about that.

If you are running a newer release of OpenWrt than Barrier Breaker then you can just install forked-daapd via the opkg tool. Otherwise you can get pre-built packages for some architechtures by following the procedure described here.

== Pre-built packages (only ar71xx and brcm47xx) ==
Edit /etc/opkg.conf and depending on your OpenWrt release and architechture add the following line:
^ Release ^ Arch ^ opkg line ^
| Attitude Adjustment 12.09 | brcm47xx | %%src/gz forked-daapd http://www.gyfgafguf.dk/openwrt/attitude_adjustment/12.09/brcm47xx/packages%% |
| Attitude Adjustment 12.09 | ar71xx | %%src/gz forked-daapd http://www.gyfgafguf.dk/openwrt/attitude_adjustment/12.09/ar71xx/packages%% |
| Barrier Breaker 14.07 | brcm47xx | %%src/gz forked-daapd http://www.gyfgafguf.dk/openwrt/barrier_breaker/14.07/brcm47xx/packages%% |
| Barrier Breaker 14.07 | ar71xx | %%src/gz forked-daapd http://www.gyfgafguf.dk/openwrt/barrier_breaker/14.07/ar71xx/packages%% |
Then run <code>opkg update
opkg install forked-daapd</code>
  
== Building yourself ==
Have a look at the Makefiles etc. [[https://github.com/openwrt/packages/tree/master/sound/forked-daapd|in the OpenWrt packages repository.]]

==== Running forked-daapd ====
Edit /etc/forked-daapd.conf. Set the path to your music library and set the path to the forked-daapd database. Start the server by running "/etc/init.d/forked-daapd start”. The server should now start scanning your library. You can check /var/log/forked-daapd.log if you want to see what is going on. To stop forked-daapd run “/etc/init.d/forked-daapd stop”.
If the server is not starting make sure avahi-daemon and dbus are running.

More instructions, like how to get Remote working, are available in [[https://github.com/ejurgensen/forked-daapd/blob/master/README.md|this readme]].

==== Bugs (or: please help fix these!) ====
  - when you start playback of an aac file CPU will spike and playback will stop - this may only be a problem on some devices (like my WNDR3700)

==== Notes ====
This is third-party software, use at own risk. If you have trouble with these packages, or if you can contribute, please discuss in this thread: [[https://forum.openwrt.org/viewtopic.php?id=30302]]